<!DOCTYPE html>
<html>
<head>
<style>
    body {
        font-family:'Courier New', Courier, monospace;
        background-color: rgb(137, 176, 137);
        padding: 20px;
        text-align: center;
    }

    form {
        margin: auto;
        border-radius: 15px;
        padding: 20px;
    }

    table {
      border-collapse: collapse;
      width: 100%;
    }

     table, th, td {
        border: 1px solid black;
        padding: 5px;
    }
    tr:nth-child(odd) {
      background: rgb(89, 104, 87);
      color: rgb(0, 0, 0);
    }

    fieldset {
        padding: 20px;
        border: 1px solid #b8deb0;
    }
    
    label {
        display: block;
    }

    input, select, textarea {
        border: 1px solid #3d5a41;
        border-radius: 4px;
        
        margin-top: 4px;
        text-align: center;

    }

     input:focus,select:focus,textarea:focus {
        outline: none;
        border-color: rgb(152, 156, 113);
        background-color: rgb(106, 126, 106)

    }
    </style>

    <body>
     <header>
        <div>
            <h1>
                Show List of Students Who Signed-Up    
        </div>
        <nav class="navbar">
           <button type="button" id="signup"> Back to Sign-Ups </button>
           <button type="button" id="home"> Back to Home </button>
        </nav>
        <br/>
    </header>
    <section>
          <label> Select Your Club
            <select id="clubs" onchange="showClub(this.value)">
              <option disabled selected value> -- select an option -- </option>
              <option value="All"> All </option>
              <option value="sports"> Alianti </option>
              <option value="debate"> Invictus </option>
              <option value="math"> Math Club </option>
              <option value="music"> Himig Agham </option>
              <option value="science"> Astrosoc </option>
            </select>
          </label> 
          <p> Total Signup : <span id="tSignUps"> </span></p>
    </section>
    <section>

      <table id="results"> </table>
      
    </section>
    <script>
      signup.onclick = () => {
        window.location.href = "Q3_2GLiBucud.html";
      }

      home.onclick = () => {
        window.location.href = "../../index.html";
      }

      function showClub(theClub) {
        totalSignUp = 0;        
        let signupString = localStorage.getItem("clubsignups")
        if (!signupString) { rowString = "No Accounts Found" } 
        else {
            signupsList = JSON.parse(signupString) 
            rowString = "";
            results.innerHTML = ""  
            for (let key in signupsList) {
              if (signupsList[key].clubs == theClub || theClub == 'All') {
                rowString += "<tr>";
                rowString += "<td>" + signupsList[key].clubs + "</td>";
                rowString += "<td>" + key + "</td>";
                rowString += "<td>" + signupsList[key].fname + "</td>";
                rowString += "<td>" + signupsList[key].grade + "</td>";
                rowString += "<td>" + signupsList[key].semail + "</td>";
                rowString += "<td>" + signupsList[key].phone + "</td>";
                rowString += "<td>" + signupsList[key].inex + "</td></tr>";
                totalSignUp++
              }
            }
        }
        if (rowString) {
          rowString = "<tr><th>Club</th><th>ID</th><th>Fullname</th><th>Grade</th><th>Email</th><th>Mobile</th><th>Intern|Extern</th></tr>"+rowString;
          results.innerHTML = rowString;
          tSignUps.innerHTML = totalSignUp;
        }
        else {
          results.innerHTML = "No Sign Ups for the club";
          tSignUps.innerHTML = ""
        }
        
      }
      
      showClub('All') 


    </script>
  </body>
</html>